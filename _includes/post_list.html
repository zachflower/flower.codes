{% if include.category %}
  {% assign posts = site.categories[include.category] %}
{% else %}
  {% assign posts = site.posts %}
{% endif %}

{% if include.limit and posts.size > include.limit %}
  {% assign limit_exceeded = true %}
{% else %}
  {% assign limit_exceeded = false %}
{% endif %}

{% if site.posts.size > 0 %}
<table cellpadding="2">
  {%- for post in posts limit: include.limit -%}
  <tr valign="top">
        <td nowrap>
          <font face='monospace,courier new,courier'>
            <nobr>{{ post.date | date: "%Y-%m-%d" }} |</nobr>
          </font>
        </td>
        <td>
          <font face='monospace,courier new,courier'>
            {% if post.category %}<small>[{{post.category}}]</small> {% endif %}<a href="{{ post.url | relative_url }}">{{ post.title | downcase }}</a>
          </font>
        </td>
      </tr>
      {%- endfor -%}
      {%- if include.show_more and limit_exceeded -%}
      <tr valign="top">
        <td colspan="2"><a href="{{ include.show_more_url }}">{{ include.show_more_text | default: "Show more..." }}</a></td>
      </tr>
      {%- endif -%}
  </table>
</font>
{% endif %}